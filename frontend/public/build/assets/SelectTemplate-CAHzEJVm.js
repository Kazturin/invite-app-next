import{q as l,f as i,H as f,p as h,s as a,I as y,t as m,r as v,w as E,o as O,n as R,O as A,z as S,y as _,F as w,m as H,P as M,L as F,v as G,A as J}from"./vendor-vue-BcvRxASC.js";import K from"./Stepper-DWSB67si.js";import W from"./Spinner-CW_KfSez.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import X from"./Modal-DJFOm559.js";import"./vendor-BoxHjOd3.js";const Y={class:"bg-theme-primary px-6 py-2 text-white font-semibold rounded disabled:opacity-70 shadow-md border-2 border-transparent disabled:cursor-not-allowed cursor-pointer transition duration-200"},L={__name:"TButton",props:{text:String},setup(r){return(g,d)=>(i(),l("button",Y,f(r.text),1))}},Z={"aria-label":"Page navigation"},Q={class:"flex justify-center space-x-4"},ee={__name:"Pagination",props:{currentPage:Number,totalPages:Number},emits:["page-changed"],setup(r,{emit:g}){const d=r,u=g;h(()=>{const o=[];for(let n=1;n<=d.totalPages;n++)o.push(n);return o});function c(o){o<1||o>d.totalPages||o===d.currentPage||u("page-changed",o)}return(o,n)=>(i(),l("nav",Z,[a("ul",Q,[a("li",{class:y({disabled:r.currentPage===1})},[m(L,{text:"Артқа",onClick:n[0]||(n[0]=p=>c(r.currentPage-1)),disabled:r.currentPage===1},null,8,["disabled"])],2),a("li",{class:y({disabled:r.currentPage===r.totalPages})},[m(L,{text:"Келесі",onClick:n[1]||(n[1]=p=>c(r.currentPage+1)),disabled:r.currentPage===r.totalPages},null,8,["disabled"])],2)])]))}},te=N(ee,[["__scopeId","data-v-35f85573"]]),se={class:"container mx-auto"},ae={id:"features",class:"container mx-auto px-5"},oe={class:"py-16"},re={class:"w-full md:w-3/5 mx-auto"},ne={class:"text-2xl md:text-3xl font-semibold text-center"},le={class:"text-theme-grayish-blue text-center my-7 font-theme-content text-md"},ie={class:"flex justify-center"},ce={class:"mt-10"},de={class:"flex flex-col items-center md:flex-row justify-center"},ue=["onClick"],me={class:"mt-16"},pe={key:0,class:"relative"},ge={key:1},ve={class:"grid gap-8 lg:grid-cols-3 items-center"},fe=["onClick"],he={class:"absolute right-4 top-4 bg-theme-primary text-white p-1 rounded text-sm opacity-0 group-hover:opacity-100"},be={class:"absolute right-4 bottom-4 font-semibold text-green-500 rounded text-lg"},_e=["data-src","alt"],ye={key:0,class:"absolute inset-0 bg-gray-200 animate-pulse"},xe=["src"],C=6,Pe={__name:"SelectTemplate",setup(r){const g=R(),d=H(),u=A(),c=v(1),o=v(1),n=h(()=>g.state.app.templateCategories.loading),p=h(()=>g.state.app.templateCategories.data),$=h(()=>(p.value?.find(t=>t.id===c.value)?.templates||[]).map(t=>({...t,loaded:v(!1)}))),x=h(()=>Math.ceil($.value.length/C)),k=h(()=>{const e=(o.value-1)*C,t=e+C;return $.value.slice(e,t)}),j={mounted(e){const t=new IntersectionObserver(s=>{s.forEach(b=>{b.isIntersecting&&(e.src=e.dataset.src,t.unobserve(e))})},{rootMargin:"50px"});t.observe(e)}};let P=v(!1),I=v(""),T=v("");function q(e,t){T.value=t,I.value=e,P.value=!0}function B(){P.value=!1}function U(e){const t=k.value.find(s=>s.preview_img===e.target.src);t&&(t.loaded=!0)}function z(e){c.value=e,o.value=1,d.replace({query:{category:e,page:1}})}function V(e){o.value=e,d.replace({query:{...u.query,page:e}})}function D(e){d.push({name:"Step2",params:{id:e}})}return E(()=>u.query,e=>{const t=e.category?parseInt(e.category,10):1,s=e.page?parseInt(e.page,10):1;p.value.some(b=>b.id===t)&&(c.value=t),s>0&&s<=x.value&&(o.value=s)}),O(()=>{g.dispatch("app/getTemplateCategories");const e=u.query.category?parseInt(u.query.category,10):1,t=u.query.page?parseInt(u.query.page,10):1;p.value&&p.value.some(s=>s.id===e)&&(c.value=e),t>0&&t<=x.value&&(o.value=t)}),(e,t)=>(i(),l(w,null,[a("div",se,[m(K,{step:1,nextText:e.$t("nextStep")},{1:S(()=>[a("div",ae,[a("section",oe,[a("div",re,[a("h2",ne,f(e.$t("choose a template for your upcoming evet"))+"!",1),a("p",le,f(e.$t("we have prepared templates for various events. Making an online invitation is now easy"))+"! ",1),a("div",ie,[a("button",{onClick:t[0]||(t[0]=s=>q("Үлгі","/video/Instructions.mp4")),class:"flex bg-theme-primary cursor-pointer px-6 py-2 text-white rounded focus:ring-4 focus:outline-none focus:ring-primary transition-all font-semibold mr-2"},[m(_(M),{class:"w-6 h-6 mr-1"}),t[2]||(t[2]=a("span",null,"Үлгі",-1))]),a("button",{onClick:t[1]||(t[1]=s=>q("Жеке шақыру","/video/preview.mp4")),class:"flex bg-theme-primary cursor-pointer px-6 py-2 text-white rounded focus:ring-4 focus:outline-none focus:ring-primary transition-all font-semibold"},[m(_(M),{class:"w-6 h-6 mr-1"}),t[3]||(t[3]=a("span",null,"Жеке шақыру",-1))])])]),a("div",ce,[a("ul",de,[(i(!0),l(w,null,F(p.value,s=>(i(),l("li",{key:s.id,class:y([{"md:border-b-4 md:border-theme-secondary":c.value===s.id},"w-full md:w-56 cursor-pointer hover:text-theme-secondary transition duration-200 border-gray-300 border-b-2 border-t-2 md:border-t-0 flex justify-center"])},[a("a",{onClick:b=>z(s.id),href:"#",class:y([c.value===s.id?"border-theme-secondary":"","py-5 md:border-b-0 border-b-4"])},f(s[`title_${e.$i18n.locale}`]),11,ue)],2))),128))])]),a("div",me,[n.value?(i(),l("div",pe,[m(W)])):(i(),l("div",ge,[a("div",ve,[(i(!0),l(w,null,F(k.value,s=>(i(),l("div",{key:s.id,onClick:b=>D(s.id),class:"relative cursor-pointer group hover:border"},[a("div",he,f(e.$t("choice")),1),a("div",be,f(s.price)+" тг",1),G(a("img",{"data-src":s.preview_img,alt:s.title,class:"template-image",onLoad:U},null,40,_e),[[j]]),s.loaded?J("",!0):(i(),l("div",ye))],8,fe))),128))]),m(te,{currentPage:o.value,totalPages:x.value,onPageChanged:V,class:"mt-8"},null,8,["currentPage","totalPages"])]))])])])]),_:1},8,["nextText"])]),m(X,{modal:_(P),title:_(I),onCloseModal:B},{default:S(()=>[a("iframe",{src:_(T),class:"w-full max-w-sm mx-auto aspect-[9/16]",controls:"1",allowfullscreen:"",allowtransparency:"",allow:"autoplay"},null,8,xe)]),_:1},8,["modal","title"])],64))}},qe=N(Pe,[["__scopeId","data-v-bbf1891f"]]);export{qe as default};
